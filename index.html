<!doctype html><html xmlns=http://www.w3.org/1999/xhtml><head><script defer language=javascript type=text/javascript src=https://camagri.github.io/js/light_dark.js></script>
<script defer language=javascript type=text/javascript src=https://camagri.github.io/js/tabs.js></script>
<script defer language=javascript type=text/javascript src=https://camagri.github.io/js/katex.min.js></script>
<script defer language=javascript type=text/javascript src=https://camagri.github.io/js/auto-render.min.js></script>
<script defer language=javascript type=text/javascript src=https://camagri.github.io/js/katex.js></script>
<script defer language=javascript type=text/javascript src=https://camagri.github.io/js/toc.js></script><meta charset=utf-8><meta name=generator content="Hugo 0.111.3"><meta name=viewport content="width=device-width,initial-scale=1"><title>CaMaGri</title><meta name=description content="team blog"><link type=text/css rel=stylesheet href=https://camagri.github.io/css/poole.css><link type=text/css rel=stylesheet href=https://camagri.github.io/css/syntax.css><link type=text/css rel=stylesheet href=https://camagri.github.io/css/hyde.css><link type=text/css rel=stylesheet href=https://camagri.github.io/css/poison.css><link type=text/css rel=stylesheet href=https://camagri.github.io/css/fonts.css><link type=text/css rel=stylesheet href=https://camagri.github.io/css/katex.min.css><link type=text/css rel=stylesheet href=https://camagri.github.io/css/tabs.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300&display=swap" rel=stylesheet><link href=https://camagri.github.io/index.xml rel=alternate type=application/rss+xml title=CaMaGri><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body class=dark-theme><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark><button class=btn-light-dark><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button>
<button class=btn-en-es lang=en><div class="btn-es active">ES</div><div class=btn-en>EN</div></button></div><div class=sidebar-about><h1 class=brand><a href=https://camagri.github.io/en/><img src=/logo.jpeg alt="brand image"></a>
<a href=https://camagri.github.io/en/><h1>CaMaGri</h1></a></h1><p class=lead>team blog</p></div><nav><ul class=sidebar-nav><li class=heading><a href=#><span>Projects</span></a></li><ul class=sub-menu><li><a href=/posts/projects/bc/>BuccaneerCircus</a></li></ul><li class=bullet><a href=/about/><span>About</span></a></li></ul></nav><a target=_blank class=social href=https://github.com/camagri><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24"><path fill="currentcolor" d="M18.88 1.099C18.147.366 17.265.0 16.233.0H3.746C2.714.0 1.832.366 1.099 1.099.366 1.832.0 2.714.0 3.746v12.487c0 1.032.366 1.914 1.099 2.647.733.733 1.615 1.099 2.647 1.099H6.66c.19.0.333-.007.429-.02a.504.504.0 00.286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555.0 01-.904-.091 2.026 2.026.0 01-.872-.39 1.651 1.651.0 01-.572-.8l-.13-.3a3.25 3.25.0 00-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956.0 01-.17-.156.723.723.0 01-.117-.182c-.026-.061-.004-.111.065-.15.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1.0 01.631.677c.2.355.44.626.722.813.282.186.566.28.852.28.286.0.533-.022.742-.065a2.59 2.59.0 00.585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907.0 01-1.333-.234 5.314 5.314.0 01-1.223-.507 3.5 3.5.0 01-1.047-.872c-.277-.347-.505-.802-.683-1.365-.177-.564-.266-1.215-.266-1.952.0-1.049.342-1.942 1.027-2.68-.32-.788-.29-1.673.091-2.652.252-.079.625-.02 1.119.175.494.195.856.362 1.086.5.23.14.414.257.553.352a9.233 9.233.0 012.497-.338c.859.0 1.691.113 2.498.338l.494-.312a6.997 6.997.0 011.197-.572c.46-.174.81-.221 1.054-.143.39.98.424 1.864.103 2.653.685.737 1.028 1.63 1.028 2.68.0.737-.089 1.39-.267 1.957-.177.568-.407 1.023-.689 1.366a3.65 3.65.0 01-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9.0 01-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36.0 00.208.189c.096.034.18.056.254.064.074.01.18.013.318.013h2.914c1.032.0 1.914-.366 2.647-1.099.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/></svg></a><a target=_blank class=social href=https://twitter.com/BuccaneerCircus><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 16 16"><path fill="currentcolor" d="M5.032 14.286c6.037.0 9.34-4.837 9.34-9.032.0-.137.0-.274-.01-.41A6.56 6.56.0 0016 3.2c-.6.256-1.235.425-1.885.5a3.207 3.207.0 001.443-1.757c-.645.37-1.35.63-2.085.77a3.322 3.322.0 00-1.862-.958 3.384 3.384.0 00-2.082.334 3.223 3.223.0 00-1.442 1.49 3.08 3.08.0 00-.208 2.03 9.57 9.57.0 01-3.747-.963A9.269 9.269.0 011.114 2.292a3.086 3.086.0 00-.36 2.314c.189.787.68 1.475 1.376 1.924A3.344 3.344.0 01.64 6.132v.04c0 .734.263 1.444.743 2.01a3.3 3.3.0 001.89 1.102c-.483.128-.99.146-1.482.055a3.19 3.19.0 001.168 1.577 3.36 3.36.0 001.9.627A6.732 6.732.0 010 12.86a9.527 9.527.0 005.032 1.423"/></svg></a><a target=_blank class=social href=https://discord.gg/xMzPTETs><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24"><path fill="currentcolor" d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09.0 00-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09.0 00-4.8.0c-.14-.34-.35-.76-.54-1.09-.01-.02-.04-.03-.07-.03-1.5.26-2.93.71-4.27 1.33-.01.0-.02.01-.03.02-2.72 4.07-3.47 8.03-3.1 11.95.0.02.01.04.03.05 1.8 1.32 3.53 2.12 5.24 2.65.03.01.06.0.07-.02.4-.55.76-1.13 1.07-1.74.02-.04.0-.08-.04-.09-.57-.22-1.11-.48-1.64-.78-.04-.02-.04-.08-.01-.11.11-.08.22-.17.33-.25.02-.02.05-.02.07-.01 3.44 1.57 7.15 1.57 10.55.0.02-.01.05-.01.07.01.11.09.22.17.33.26.04.03.04.09-.01.11-.52.31-1.07.56-1.64.78-.04.01-.05.06-.04.09.32.61.68 1.19 1.07 1.74.03.01.06.02.09.01 1.72-.53 3.45-1.33 5.25-2.65.02-.01.03-.03.03-.05.44-4.53-.73-8.46-3.1-11.95-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03.0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06.0 1.9.96 1.89 2.12.0 1.17-.84 2.12-1.89 2.12zm6.97.0c-1.03.0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06.0 1.9.96 1.89 2.12.0 1.17-.83 2.12-1.89 2.12z"/></svg></a><a target=_blank class=social href=https://www.instagram.com/buccaneercircus/><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 448 512"><path fill="currentcolor" d="M224.1 141c-63.6.0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1.0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9.0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9.0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9.0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9.0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8.0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg></a><p class=footnote>powered by <a target=_blank href=https://gohugo.io>Hugo</a> | themed with <a target=_blank href=https://github.com/lukeorth/poison>poison</a><br>&copy; 2023 CaMaGri. All rights reserved.</p></div></aside><main class="content container"><div class=posts><article class=post><div class=info><h1 class=post-title><a href=https://camagri.github.io/posts/projects/bc/bc-bte-02c-marquisbanquet/>Behind the Scenes - Part 3C - TheSunkenLegend.sol</a></h1><time datetime=2023-03-05T14:46:01+0100 class=post-date>March 5, 2023</time></div>By far this was the most ambitious challenge but also the most fun to implement. As there are several things that this contract does, we are going to analyze use cases and explain the functions that are being executed in the process.
Let&rsquo;s start by looking at the typical use case: Collect all four keys and claim the bounty.
When we mint a token that has a key, what actually happens is that the token does not have the key, but rather has the right to claim it.<div class=read-more-link><a href=/posts/projects/bc/bc-bte-02c-marquisbanquet/>Read More…</a></div></article><article class=post><div class=info><h1 class=post-title><a href=https://camagri.github.io/posts/projects/bc/bc-bte-02b-thecursedone/>Behind the Scenes - Part 3B - TheCursedOne.sol</a></h1><time datetime=2023-03-05T14:26:24+0100 class=post-date>March 5, 2023</time></div>TheCursedOne is a contract similar in its operation with WantedCaptains except for some details that we are going to analyze. Let&rsquo;s remember that in TheCursedOne there is only one token that we can claim and for them we must obtain tokens that know the eight stanzas that compose the poem that we are trying to complete. The other detail is that these stanzas must be written down and at the time of pronouncing the poem we must still possess at least four of the eight tokens that provided them to us.<div class=read-more-link><a href=/posts/projects/bc/bc-bte-02b-thecursedone/>Read More…</a></div></article><article class=post><div class=info><h1 class=post-title><a href=https://camagri.github.io/posts/projects/bc/bc-bte-02a-wantedcaptains/>Behind the Scenes - Part 3A - WantedCaptains.sol</a></h1><time datetime=2023-03-05T13:22:53+0100 class=post-date>March 5, 2023</time></div>As we mentioned in The Stories section, Wanted goal is obtaining two special tokens that betray a specific captain in order to gain the right to claim that captain&rsquo;s token. At the beginning of this section we analyzed how the secrets work in BuccaneerCircus and how through them we can know if a token is special or not. Let&rsquo;s start, then, by analyzing the function that allows us to know if any of our tokens is an informer of a captain.<div class=read-more-link><a href=/posts/projects/bc/bc-bte-02a-wantedcaptains/>Read More…</a></div></article><article class=post><div class=info><h1 class=post-title><a href=https://camagri.github.io/posts/projects/bc/bc-bte-02-smart-contracts/>Behind the Scenes - Part 3 - Smart Contracts</a></h1><time datetime=2023-03-05T13:11:19+0100 class=post-date>March 5, 2023</time></div>Smart contracts are probably the most interesting and complex part of the project and that is why we will spend more time understanding them.
In what follows we will first explain the concept of secret that is common to all three contracts and then we will analyze each contract separately. Some very technical issues may be omitted, but the analysis that we will carry out here is much more in-depth than the previous ones, trying to achieve a good understanding of the logic behind the contracts.<div class=read-more-link><a href=/posts/projects/bc/bc-bte-02-smart-contracts/>Read More…</a></div></article><article class=post><div class=info><h1 class=post-title><a href=https://camagri.github.io/posts/projects/bc/bc-bte-01-architecture/>Behind the Scenes - Part 2 - Architecture</a></h1><time datetime=2023-03-05T12:13:47+0100 class=post-date>March 5, 2023</time></div>Architecture A fundamental part of BuccaneerCircus is the different components of its architecture and how they cooperate to make everything work.
Among the requirements that define this architecture, the most relevant is the progressive disclosure of metadata, something that will make more sense when we analyze smart contracts. For the moment we must know that it will be necessary for some metadata fields to remain hidden until the corresponding token is minted.<div class=read-more-link><a href=/posts/projects/bc/bc-bte-01-architecture/>Read More…</a></div></article><article class=post><div class=info><h1 class=post-title><a href=https://camagri.github.io/posts/projects/bc/bc-bte-00-introduction/>Behind the Scenes - Part 1 - Introduction</a></h1><time datetime=2023-03-05T10:59:35+0100 class=post-date>March 5, 2023</time></div>The Beginning At the beginning of 2021 we had the idea of creating a game taking advantage of NFT technology for its implementation. Although many ideas arose, most of them greatly exceeded the resources of time and money that we had to carry them out. However, we liked one idea because of its simplicity and because it allowed us to make a first approach to what we were looking for, with a good chance of coming to fruition.<div class=read-more-link><a href=/posts/projects/bc/bc-bte-00-introduction/>Read More…</a></div></article></div></main></body></html>